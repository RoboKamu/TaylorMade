<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Historical Power Consumption</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="data.js"></script>
  <link rel="stylesheet" href="styles.css">
  <style>
    .chart-container {
      width: 80%;
      margin: 1rem auto;
    }

    canvas {
      max-width: 100%;
      height: 300px; /* Adjusted height to make graphs smaller */
    }
  </style>
</head>
<body>
  <h1>Historical Power Consumption</h1>

  <!-- Containers for 7 graphs -->
  <div class="chart-container">
    <h2>Monday (2025-04-21)</h2>
    <canvas id="historyChartMonday"></canvas>
  </div>
  <div class="chart-container">
    <h2>Tuesday (2025-04-22)</h2>
    <canvas id="historyChartTuesday"></canvas>
  </div>
  <div class="chart-container">
    <h2>Wednesday (2025-04-23)</h2>
    <canvas id="historyChartWednesday"></canvas>
  </div>
  <div class="chart-container">
    <h2>Thursday (2025-04-24)</h2>
    <canvas id="historyChartThursday"></canvas>
  </div>
  <div class="chart-container">
    <h2>Friday (2025-04-25)</h2>
    <canvas id="historyChartFriday"></canvas>
  </div>
  <div class="chart-container">
    <h2>Saturday (2025-04-26)</h2>
    <canvas id="historyChartSaturday"></canvas>
  </div>
  <div class="chart-container">
    <h2>Sunday (2025-04-27)</h2>
    <canvas id="historyChartSunday"></canvas>
  </div>

  <footer>
    <p>&copy; 2025 Plug4U. All rights reserved.</p>
  </footer>

  <script>
    async function renderHistoryCharts() {
      // Mock data for demonstration purposes
      const mockData = {
        Monday: { time: ['12:00', '12:05', '12:10', '12:15'], Urms: [230, 231, 229, 230], Irms: [5, 4.8, 5.2, 5] },
        Tuesday: { time: ['12:00', '12:05', '12:10', '12:15'], Urms: [228, 229, 230, 231], Irms: [4.9, 5, 5.1, 5.2] },
        Wednesday: { time: ['12:00', '12:05', '12:10', '12:15'], Urms: [232, 231, 230, 229], Irms: [5.1, 5, 4.9, 4.8] },
        Thursday: { time: ['12:00', '12:05', '12:10', '12:15'], Urms: [230, 229, 228, 227], Irms: [5, 5.1, 5.2, 5.3] },
        Friday: { time: ['12:00', '12:05', '12:10', '12:15'], Urms: [231, 232, 233, 234], Irms: [4.8, 4.9, 5, 5.1] },
        Saturday: { time: ['12:00', '12:05', '12:10', '12:15'], Urms: [229, 230, 231, 232], Irms: [5.2, 5.1, 5, 4.9] },
        Sunday: { time: ['12:00', '12:05', '12:10', '12:15'], Urms: [230, 231, 232, 233], Irms: [5, 5.1, 5.2, 5.3] },
      };

      const days = [
        { id: 'historyChartMonday', label: 'Monday', date: '2025-04-21' },
        { id: 'historyChartTuesday', label: 'Tuesday', date: '2025-04-22' },
        { id: 'historyChartWednesday', label: 'Wednesday', date: '2025-04-23' },
        { id: 'historyChartThursday', label: 'Thursday', date: '2025-04-24' },
        { id: 'historyChartFriday', label: 'Friday', date: '2025-04-25' },
        { id: 'historyChartSaturday', label: 'Saturday', date: '2025-04-26' },
        { id: 'historyChartSunday', label: 'Sunday', date: '2025-04-27' },
      ];

      days.forEach(day => {
        const dayData = mockData[day.label];

        const ctx = document.getElementById(day.id).getContext('2d');
        new Chart(ctx, {
          type: 'line',
          data: {
            labels: dayData.time,
            datasets: [
              {
                label: 'Voltage (Urms)',
                data: dayData.Urms,
                borderColor: 'rgba(0, 123, 255, 1)', // Vibrant blue
                borderWidth: 3, // Thicker line
                fill: false,
              },
              {
                label: 'Current (Irms)',
                data: dayData.Irms,
                borderColor: 'rgba(255, 69, 0, 1)', // Vibrant red-orange
                borderWidth: 3, // Thicker line
                fill: false,
              },
            ],
          },
          options: {
            responsive: true,
            plugins: {
              title: {
                display: true,
                text: `${day.label} (${day.date})`,
              },
            },
            scales: {
              x: {
                title: {
                  display: true,
                  text: 'Time',
                },
                grid: {
                  color: 'rgba(0, 0, 0, 0.2)', // Black gridlines with slight transparency
                  lineWidth: 1.5, // Thicker gridlines
                },
              },
              y: {
                title: {
                  display: true,
                  text: 'Values',
                },
                grid: {
                  color: 'rgba(0, 0, 0, 0.2)', // Black gridlines with slight transparency
                  lineWidth: 1.5, // Thicker gridlines
                },
              },
            },
          },
        });
      });
    }

    renderHistoryCharts();
  </script>
</body>
</html>
